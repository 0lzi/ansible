- name: Copy aliases
  ansible.builtin.copy:
    src: ./files/custom.aliases.sh
    dest: /home/pi/.oh-my-bash/custom/aliases
    owner: pi
    group: pi
    mode: '0644'
  tags: aliases

- name: Check .ssh path
  ansible.builtin.file:
    dest: /home/pi/.ssh
    owner: pi
    group: pi
    mode: '0700'
    state: directory
  tags: config

- name: Copy SSH Config
  ansible.builtin.copy:
    src: .ssh_config
    dest: /home/pi/.ssh/config
    owner: pi
    group: pi
    mode: '0644'
  tags: config

- name: Set oh-my-bash theme
  ansible.builtin.lineinfile:
    path: /home/pi/.bashrc
    search_string: 'OSH_THEME='
    line: OSH_THEME="rr"

#- name: Add custom aliases
#  ansible.builtin.lineinfile:
#    path: /home/pi/.bashrc
#    search_string: 'aliases=('
#    line: |
#      aliases=(
#      general
#      custom
#      )
#
# - name: Set authorized keys from file
#   ansible.posix.authorized_key:
#     user: pi
#     state: present
#     key: "{{ lookup('file','ansible/pi-test/files/laptop.pub') }}"
